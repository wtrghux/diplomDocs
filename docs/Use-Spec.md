# Спецификация прецедента

## Предусловия

Пользователь (пациент или доктор) выполнил вход в аккаунт.

## Постусловия

Звуковые файлы с шумами фистулы сохранены;

Результаты обработки загруженных файлов сохранены;

Характеристики фистулы показаны пациенту.

## Загрузка и обработка звукового файла с шумами фистулы

### Текстовое описание

- Пациент открывает сайт;
- Сайт загружает стартовую страницу;
- Пользователь авторизуется на сайте;
- Сайт отпраляет логин и пароль на сервер;
- Сервер обращается к базе данных;
- В базе данных выполняется запрос и результат возвращается на сервер;
- Сервер проверяет соответствие логина и пароля;
- При успешной авторизации загружается личный кабинет;
- Пациент выбирает функцию загрузки звуковых файлов;
- Пациент выбирает звуковые файлы на устройстве и прикрепляет их во вложении;
- Файлы загружаются на сервер и проверяются на соответствие формату wav;
- Сервер сохраняет звуковые файлы в базу данных;
- Сервер обрабатывает звуковые файлы и записывает характеристики фистулы пациента;
- Файл с результатами сохраняется в БД;
- Результат обработки отображается у пациента;

### Диаграмма последовательностей

```mermaid
sequenceDiagram
    participant pat as Пациент
    participant web as Веб-сайт
    participant serv as Сервер
    participant bd as База данных
    pat ->> web: Открывает сайт
    web ->> pat: Отображение главной страницы
    pat ->> web: Входит в аккаунт
    web ->> serv: Передаёт логин и пароль
    serv ->> bd: Отправляет запрос на логин/пароль
    bd ->> serv: Возвращает результат
    serv ->> serv: Проверяет логин и пароль
    serv ->> web: Перенаправляет в личный кабинет
    pat ->> web: Выбирает функцию "Загрузить файл"
    pat ->> web: Прикрепляет файл и отправляет
    web ->> serv: Проверяет соответствие формата файла
    serv ->> bd: Сохраняет звуковой файл в базу данных
    serv ->> web: Обрабатывает загруженный файл с помощью алгоритмов
    serv ->> bd: Сохраняет файл с результатами обработки в базу данных
    web ->> pat: Отображает характеристики фистулы пользователю
    %% 1 ->> 2: t
```

![](../pics/Use-spec-1.jpg)

## %%Вставить-название-прецедента-2%%

### Текстовое описание

### Диаграмма последовательностей
